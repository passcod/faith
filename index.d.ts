/* auto-generated by NAPI-RS */
/* eslint-disable */
export declare class FaithResponse {
  get status(): number
  get statusText(): string
  get headers(): Array<[string, string]>
  get ok(): boolean
  get url(): string
  get redirected(): boolean
  /** Check if the response body has been disturbed (read) */
  get bodyUsed(): boolean
  /** Get the response body as a ReadableStream */
  body(): ReadableStream<Buffer> | null
  /**
   * Get response body as bytes
   *
   * This may use up to 2x the amount of memory that the response body takes
   * when the Response is cloned() and will create a full copy of the data.
   */
  bytes(): Async<Buffer>
  /** Convert response body to text (UTF-8) */
  text(): Async<string>
  /** Parse response body as JSON */
  json(): Async<any>
  /** Get response body as ArrayBuffer (returns Buffer, wrapper converts to ArrayBuffer) */
  arrayBuffer(): Async<Buffer>
  /**
   * Create a clone of the response
   *
   * Specially, this doesn't set the disturbed flag, so that `body()` or other such
   * methods can work afterwards. However, it will throw if the body has already
   * been read from.
   *
   * Clones will cache in memory the section of the response body that is read
   * from one clone and not yet consumed by all others. In the worst case, you can
   * end up with a copy of the entire response body if you end up not consuming one
   * of the clones.
   */
  clone(): FaithResponse
}

export declare function errorCodes(): ErrorCodes

export interface ErrorCodes {
  responseAlreadyDisturbed: string
  responseBodyNotAvailable: string
  invalidMethod: string
  invalidHeader: string
  invalidUrl: string
  invalidCredentials: string
  invalidOptions: string
  permissionPolicy: string
  timeout: string
  jsonParseError: string
  bodyStreamError: string
  requestError: string
  genericFailure: string
}

export declare const enum FaithErrorKind {
  InvalidHeader = 'InvalidHeader',
  InvalidMethod = 'InvalidMethod',
  InvalidUrl = 'InvalidUrl',
  InvalidCredentials = 'InvalidCredentials',
  InvalidOptions = 'InvalidOptions',
  BlockedByPolicy = 'BlockedByPolicy',
  ResponseAlreadyDisturbed = 'ResponseAlreadyDisturbed',
  ResponseBodyNotAvailable = 'ResponseBodyNotAvailable',
  BodyStream = 'BodyStream',
  JsonParse = 'JsonParse',
  Utf8Parse = 'Utf8Parse',
  Timeout = 'Timeout',
  PermissionPolicy = 'PermissionPolicy',
  Network = 'Network',
  RuntimeThread = 'RuntimeThread',
  Generic = 'Generic'
}

export declare function faithFetch(url: string, options?: FaithOptionsAndBody | undefined | null): Async<FaithResponse>

export interface FaithOptionsAndBody {
  method?: string
  headers?: Array<[string, string]>
  body?: string | Buffer | Uint8Array
  timeout?: number
}
